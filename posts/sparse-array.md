<!-- # æ•°ç»„ä¹Ÿä¼šç§ƒé¡¶ -->

![å°é¢](https://raw.githubusercontent.com/pushmetop/resource/master/30-seconds-for-everyday/sparse-array/poster.png)

## ç®€ä»‹

> [ä¸€å¤© 30 ç§’ â± ä¸€æ®µä»£ç  âœï¸ ä¸€ä¸ªåœºæ™¯ ğŸ–¼](https://github.com/pushmetop/30-seconds-for-everyday)

ä½ å¯èƒ½å¾ˆéš¾ç›¸ä¿¡é™¤äº†ç¨‹åºå‘˜ä¼šç§ƒé¡¶ï¼Œæ•°ç»„ä¹Ÿä¼šç§ƒé¡¶ã€‚ä»€ä¹ˆä½ ä¸ç›¸ä¿¡æˆ‘ï¼Ÿé‚£æˆ‘è¯æ˜ç»™ä½ çœ‹ï¼š

```javascript
let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

delete arr[2]

// è¾“å‡º [0, 1, empty, 3, 4, 5, 6, 7, 8, 9]
console.log(arr)

// è¾“å‡º 0 1 3 4 5 6 7 8 9
arr.forEach(i => console.log(i))
```

å½“ `æ‹”æ‰(delete)` arr çš„ç¬¬ 3 æ ¹ `å¤´å‘(arr[2])` æ—¶ï¼Œç›´æ¥ç¡¬ç”Ÿç”Ÿçš„å‡ºç°äº†ä¸€ä¸ª `ç©ºæ¯›å›Š(empty)`ï¼Œè¿™éš¾é“ä¸æ˜¯æ•°ç»„ç§ƒé¡¶äº†å˜›ï¼Ÿ`æ•°(forEach)` ä¸€ä¸‹å¤´å‘ï¼Œç¡®å®æ²¡æœ‰æŠŠç©ºæ¯›å›Šç®—è¿›å»ï¼Œè¿™ä¸‹ä½ ç›¸ä¿¡äº†æŠŠæ•°ç»„ä¹Ÿä¼šç§ƒé¡¶ï¼Œé‚£ä¸å¦‚è®©æˆ‘ä»¬å¥½å¥½ç ”ç©¶ç ”ç©¶ï¼Ÿ

## ç­çº§ç‚¹å

ä¸Šå­¦æ—¶æœ€å¸¸è§çš„ä¸€ä¸ªåœºæ™¯ä¾¿æ˜¯è€å¸ˆç‚¹åï¼ŒæŒ‰ç€å­¦å·`è¿ç»­çš„`è¯»å‡ºå­¦ç”Ÿçš„åå­—å¹¶åœ¨`è®°å½•æœ¬`ä¸Šæ‰“ä¸Šå‹¾ï¼Œé€Ÿåº¦æ˜¯ç›¸å½“çš„å¿«ã€‚åè¿‡æ¥éšæœºå«ä¸€ä¸ªå­¦ç”Ÿçš„åå­—å¹¶åœ¨`è®°å½•æœ¬`ä¸Šï¼Œéœ€è¦åœ¨è®°å½•æœ¬ä¸Šæ‰¾åˆ°è¿™ä¸ªåå­—å¹¶æ‰“ä¸Šå‹¾ï¼Œé€Ÿåº¦æ˜¯ç›¸å½“æ…¢çš„ã€‚

åœ¨ä¸Šé¢ä¸¤ä¸ªåœºæ™¯ä¸­ä¸€ä¸ªä½¿ç”¨äº† `ç´¢å¼•` è€Œå¦å¤–ä¸€ä¸ªä½¿ç”¨äº† `hash`ï¼Œè€Œåœ¨ Array ä¸­ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„ç°è±¡ã€‚

åœ¨ Array è‹¥æ˜¯æ‰§è¡Œäº†è¿ç»­æ•°ç»„æ“ä½œå¦‚ `Array.prototype.pop()`ã€`Array.prototype.unshift()` æ¥æ“ä½œæ•°ç»„ï¼Œç”±äºæ•´ä¸ªç©ºé—´éƒ½æ˜¯ `è¿ç»­çš„` ä½¿ç”¨ç´¢å¼•ç›´æ¥å®šä½ï¼Œéå†èµ·æ¥éå¸¸å¿«ï¼Œè¿™ç§ Array å«åš `å¯†é›†æ•°ç»„`ã€‚

è€Œ Array è‹¥æ˜¯æ‰§è¡Œäº†éè¿ç»­æ•°ç»„æ“ä½œå¦‚ `delete arr[2]`ã€èµ‹å€¼è¶…å‡ºå½“å‰æ•°ç»„é•¿åº¦ã€èµ‹å€¼ä¸ºéè¿ç»­ç´¢å¼• æ¥æ“ä½œæ•°ç»„ï¼Œç”±äºç©ºé—´çš„ `è¿ç»­æ€§` è¢«ç ´åäº†ï¼Œåªèƒ½é€šè¿‡ hash å®šä½ï¼Œéå†èµ·æ¥å°±ä¼šå˜æ…¢ã€‚è¿™ç§ Array å«åš `ç¨€ç–æ•°ç»„`ï¼Œä½ å¯ä»¥ç†è§£ä¸ºå®ƒè¢«å¯¹è±¡åŒ–äº†ä½¿å¾—æ›´åƒæ˜¯ä¸€ä¸ª Objectã€‚

`ç¨€ç–æ•°ç»„`é€šå¸¸åœ¨å®ç°ä¸Šæ¯”`å¯†é›†æ•°ç»„`æ›´æ…¢æ›´è€—å†…å­˜ï¼Œåœ¨è¿™æ ·çš„æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ å˜å¾—è·Ÿå¸¸è§„å¯¹è±¡çš„æŸ¥æ‰¾ä¸€æ ·å¤±å»äº†æ€§èƒ½çš„ä¼˜åŠ¿ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨ Array è¦å°½é‡é¿å…ç ´åå®ƒçš„è¿ç»­æ€§ï¼Œå°½é‡ä½¿ç”¨æ•°ç»„ç›¸å…³çš„æ–¹æ³•æ¥æ“ä½œå®ƒã€‚

## åœ¨æ§åˆ¶å°æŸ¥çœ‹

å…¶å®åœ¨æ§åˆ¶å°ä¸­å¯ä»¥éå¸¸æ˜æ˜¾çš„çœ‹å‡º`å¯†é›†æ•°ç»„`å’Œ`ç¨€ç–æ•°ç»„`çš„ç´¢å¼•æ˜¯å¦è¿ç»­ï¼š

![å¯¹æ¯”](https://raw.githubusercontent.com/pushmetop/resource/master/30-seconds-for-everyday/sparse-array/compare.png)

## ç¨€ç–æ•°ç»„è½¬æ¢å¯†é›†æ•°ç»„

##### åˆ©ç”¨ `Array.prototype.apply`

```javascript
// è¿›è¡Œä¸€ä¸‹ç ´åè¿ç»­æ€§çš„æ“ä½œ
let arr = [1, ,3, 4];
delete arr[3];
arr['a'] = 5;

// è¾“å‡º [1, empty, 3, empty, a: 5]
console.log(arr);

// è¿›è¡Œè½¬æ¢
arr = Array.apply(null, arr);

// è¾“å‡º [1, undefined, 3, undefined]
console.log(arr);
```

##### åˆ©ç”¨ `Array.prototype.from`

```javascript
// è¿›è¡Œä¸€ä¸‹ç ´åè¿ç»­æ€§çš„æ“ä½œ
let arr = [1, ,3, 4];
delete arr[3];
arr['a'] = 5;

// è¾“å‡º [1, empty, 3, empty, a: 5]
console.log(arr);

// è¿›è¡Œè½¬æ¢
arr = Array.from(arr);

// è¾“å‡º [1, undefined, 3, undefined]
console.log(arr);
```

##### åˆ©ç”¨ spread è¿ç®—ç¬¦

```javascript
// è¿›è¡Œä¸€ä¸‹ç ´åè¿ç»­æ€§çš„æ“ä½œ
let arr = [1, ,3, 4];
delete arr[3];
arr['a'] = 5;

// è¾“å‡º [1, empty, 3, empty, a: 5]
console.log(arr);

// è¿›è¡Œè½¬æ¢
arr = [...arr];

// è¾“å‡º [1, undefined, 3, undefined]
console.log(arr);
```

##### æ³¨æ„ `new Array`

è¦æ³¨æ„ `new Array` åªæ˜¯ä¼šç”Ÿæˆä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿ç»­çš„ç©ºé—´ï¼Œæ­¤æ—¶å®ƒä¹Ÿæ˜¯éè¿ç»­çš„ï¼š

```javascript
let arr = new Array(4);

// è¾“å‡º [empty Ã— 4]
console.log(arr);
```

## ä¼ å…¥ç©ºå‚æ•°

##### åˆ©ç”¨ null, undefined è°ƒç”¨å‡½æ•°

åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è·³è¿‡ä¸€äº›å‚æ•°å¯ä»¥ä½¿ç”¨ `null` å’Œ `undefined` æ¥å®ç°ï¼š

```javascript
method('a', null, 'c');
method('a', undefined, 'c');
```

å½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨ç¨€ç–æ•°ç»„ï¼š

```javascript
method(...['a',, 'c']);
```

## æ‰“èµ&è”ç³»

å¦‚æœæ‚¨æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘è¾“å‡ºæ›´å¤šçš„ä¼˜è´¨å†…å®¹ã€‚

![æ‰“èµ&è”ç³»](https://raw.githubusercontent.com/pushmetop/resource/master/donate/donate.png)

> æœ¬æ–‡åŸç¨¿æ¥è‡ª [PushMeTop](https://github.com/pushmetop)