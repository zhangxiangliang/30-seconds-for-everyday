# è°æ•¢ä¸æˆ‘ä¸€æˆ˜

## ç®€ä»‹

> [ä¸€å¤© 30 ç§’ â± ä¸€æ®µä»£ç  âœï¸ ä¸€ä¸ªåœºæ™¯ ğŸ–¼](https://github.com/pushmetop/30-seconds-for-everyday)

åœ¨ [ä¼˜é›…æ’å…¥æ•°ç»„](https://github.com/pushmetop/30-seconds-for-everyday/blob/master/posts/insert-item-inside-an-array.md) ä¸€æ–‡ä¸­å¤§å®¶æœ€å¤šçš„è¯„è®ºå°±æ˜¯ â€œèƒ½ä¸èƒ½åŠ ä¸ªåŸºå‡†æµ‹è¯•â€ã€‚å°äºŒä¸æ˜¯ä¸å–œæ¬¢åŠ åŸºå‡†æµ‹è¯•è€Œæ˜¯ç°åœ¨ç¡¬ä»¶è®¾å¤‡çš„æ€§èƒ½è¶Šæ¥è¶Šå¿«äº†å½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬ä¸å†™å‡ºå¥½ä»£ç çš„åŸå› ã€‚ä¹¦å†™ä»£ç è¿˜æ˜¯åº”è¯¥åœ¨ `ä¼˜é›…æ˜“è¯»` å’Œ `è¿è¡Œæ€§èƒ½`ä¸­åšå‡ºå¹³è¡¡ï¼Œé€‚åˆçš„åœºæ™¯åšé€‚åˆçš„äº‹æƒ…ã€‚ä¸è¿‡æ—¢ç„¶å¤§å®¶éƒ½æåˆ°äº† `åŸºå‡†æµ‹è¯•` ç¢°å·§æˆ‘åˆåˆšå¥½æ²¡æœ‰æƒ³åˆ°è¦å†™ä»€ä¹ˆï¼Œé‚£å°±ä¸€èµ·ä¸€ä¸‹ `åŸºå‡†æµ‹è¯•` å§ã€‚

> äººéåœ£è´¤å­°èƒ½æ— è¿‡ï¼Œä¸‰ä¸¤å…«å“¥å¸¸ä¼´å¾èº«ã€‚-- å—¯æ˜¯æˆ‘

`æµ‹è¯•` åœ¨ä¸­å¤§å‹å’Œå’Œå¼€æºé¡¹ç›®ä¸­ç®—æ˜¯ `å¿…å¤‡å†…å®¹`ï¼Œå¥½æµ‹è¯•å¯ä»¥åœ¨å‡å®šçš„åœºæ™¯ä¸‹æ‰¾åˆ°é¡¹ç›®çš„é”™è¯¯å¸®åŠ©æˆ‘ä»¬å†™å‡ºè´¨é‡æ›´å¥½çš„ä»£ç ï¼Œä¹Ÿæ˜¯åä½œå¼€å‘ä¸­çš„è°ƒå’Œå‰‚ã€‚`æµ‹è¯•` æ˜¯ä¸€é—¨å¼€å‘ä¸­çš„å¤§å­¦é—®ä¸æ˜¯ä¸€ç¯‡æ–‡ç« å°±èƒ½è®²å¾—æ˜ç™½çš„ã€‚

> Talk is cheap, Show me the code. -- Linus Torvalds

æœ¬æ–‡é€‰æ‹©çš„ `åŸºå‡†æµ‹è¯•` åªæ˜¯ `æµ‹è¯•` ä¸­ä¸€ä¸ªå°åˆ†æ”¯ï¼Œæœ¬æ–‡ç®€å•å¸®åŠ©å¤§å®¶æ¶‰çŒä¸€äº›ç®€å•çš„æ¦‚å¿µå’Œæµ‹è¯•å·¥å…·ã€‚å­¦ä¹ åå½“é‡åˆ°é‡ç”Ÿç¨‹åºçŒ¿è¯´å‡ºéªšè¯ï¼š`â€œåºŸè¯å°‘è¯´ï¼Œæ”¾é©¬è¿‡æ¥â€`ï¼Œè¯·æŠ„èµ·é”®ç›˜æ‰“å¼€ `åŸºå‡†æµ‹è¯•` å·¥å…·å¤§å–Šï¼š`â€œå¾ä¹ƒç‡•äººå¼ ç¿¼å¾·ï¼Œè°æ•¢ä¸æˆ‘ä¸€æˆ˜ï¼Ÿâ€`ã€‚

## æŠ›ç¡¬å¸

æŠ›ä¸€æ¬¡ç¡¬å¸å°±å¾—åˆ° `å‡ºç°æ­£é¢æ¦‚ç‡æ˜¯ç™¾åˆ†ç™¾` çš„ç»“è®ºæ˜¾ç„¶æ˜¯é”™è¯¯çš„ï¼Œæ•°å­¦è€å¸ˆæ•™è¿‡æˆ‘ä»¬ `å¤§æ•°å®šå¾‹`ï¼šâ€œéœ€è¦æ•°æ®é‡è¶³å¤Ÿå¤šã€æ ·æœ¬è¶³å¤Ÿæ‰“æ‰èƒ½ä¸‹ç»“è®ºâ€ã€‚å½“æŠ›å‡åŒ€ç¡¬å¸æ¬¡æ•°è¶³å¤Ÿå¤šæ—¶å‡ºç°æ­£é¢æ¦‚ç‡åº”è¯¥æ— é™è¶‹è¿‘äºç™¾åˆ†äº”åï¼Œå¯¹ç…§æŠ›ç¡¬å¸å®éªŒ `åŸºå‡†æµ‹è¯•` ä¸€æ ·ä¸èƒ½åªè®°å½•ä¸€æ¬¡ä»£ç è¿è¡Œæ—¶é—´å°±å¯ä»¥å¾—å‡ºç»“æœçš„ï¼Œéœ€è¦è¿›è¡Œè¶³å¤Ÿå¤šçš„æ¬¡æ•°ã€‚

## å“èƒèŸ¹

> ç§‘å­¦å®¶ä»ç¬¼å­é‡ŒæŠ“å‡ºä¸€åªèƒèŸ¹ï¼Œæ”¾åœ¨åœ°ä¸Šï¼Œå†²ç€å®ƒå¤§å¼å¤§å«ï¼ŒèƒèŸ¹è¢«å“å¾—ä¸è½»ï¼Œåˆ°å¤„ä¹±çªœï¼Œæ…Œä¸æ‹©è·¯ã€‚ç„¶åç§‘å­¦å®¶æŠŠèƒèŸ¹çš„è…¿æ‹†å¸ä¸‹æ¥é‡å¤ä¹‹å‰çš„æ­¥éª¤ï¼Œç»§ç»­å¤§å¼å¤§å«ï¼ŒèƒèŸ¹ä¸€åŠ¨ä¸åŠ¨ï¼Œéå¸¸çš„æ·¡å®šä»å®¹ï¼Œå¾—åˆ°ç»“è®º`èƒèŸ¹çš„è€³æœµæ˜¯é•¿åœ¨è…¿ä¸Šçš„`ã€‚

è¿™ä¸ªå°ç¬‘è¯å¤§å®¶åº”è¯¥éƒ½å¬è¿‡ï¼Œæ²¡æœ‰è€ƒè™‘èƒèŸ¹é€ƒè·‘æ˜¯éœ€è¦ç”¨è…¿ã€‚åœ¨åšç”Ÿç‰©å¯¹ç…§å®éªŒæ—¶å‡ºç°çš„ä¸‰ä¸ªæ¦‚å¿µ `è‡ªå˜é‡` å’Œ `å› å˜é‡`ã€`æ— å…³å˜é‡`ï¼Œæ§åˆ¶å¥½å®ƒä»¬ä»è€Œå¾—åˆ°çœŸå®çš„ç»“æœã€‚`åŸºå‡†æµ‹è¯•`çš„å½±å“å˜é‡å¯ä»¥æ˜¯æ‰‹æœºè¿›å…¥çœç”µæ¨¡å¼å¸¦æ¥çš„è¿è¡Œé€Ÿåº¦é™ä½ã€å¯ä»¥æ˜¯ç”µè„‘æ­£åœ¨è¿è¡Œæ— å…³è½¯ä»¶å¯¼è‡´æŸä¸€æ—¶åˆ»æµ‹è¯•ç¯å¢ƒä¸ä¸€è‡´ã€ä¹Ÿæ˜¯å¯ä»¥æ˜¯ä»£ç åˆå§‹çŠ¶æ€çš„ä¸ä¸€è‡´ä¾‹å­å¦‚ä¸‹ï¼š

```javascript
// ä»£ç ä¸€
let a = [1, 2, 3, 4];
a.push(5);

// ä»£ç äºŒ
let b = [1, 2, 3, 4, 5, 6, 7, 8];
b = [...b, 9];
```

æµ‹è¯•ä¸Šé¢ä¸¤ä¸ªä»£ç å¹¶ä¸èƒ½å¾—å‡ºè°çš„æ€§èƒ½æ›´å¥½ï¼Œå› ä¸ºåˆå§‹æ•°ç»„çš„é•¿åº¦ä¸ä¸€æ ·å­˜åœ¨æ•°ç»„è¶Šå¤§æ“ä½œè¶Šæ…¢çš„æƒ…å†µã€‚

## Benchmark

ä¸Šé¢ç®€å•ä¸¤ä¸ªä¾‹å­å¸®åŠ©ç†è§£ `åŸºå‡†æµ‹è¯•` çš„ä¸€äº›åŸºæœ¬è¦ç‚¹ã€‚åœ¨å¼€å‘ä¸­é™¤äº†åˆ©ç”¨æµè§ˆå™¨çš„ç‰¹æ€§æ¥è°ƒä¼˜ä»£ç ï¼Œæœ‰æ—¶å€™ä¸åŒçš„ä»£ç å†™æ³•ä¹Ÿä¼šå¸¦æ¥ä¸ä¸€æ ·çš„æ€§èƒ½è¡¨ç°ã€‚åœ¨ [ä¼˜é›…æ’å…¥æ•°ç»„](https://github.com/pushmetop/30-seconds-for-everyday/blob/master/posts/insert-item-inside-an-array.md) ä¸­æŠŠæ•°æ®æ’å…¥æ•°ç»„å°¾éƒ¨å°±ä»‹ç»äº†å››ç§ä¸ä¸€æ ·çš„æ–¹æ³•ï¼Œåˆ©ç”¨å“ªä¸€ç§å†™æ³•ä¼šä½¿å¾—ä»£ç  `ä¼˜é›…ã€æ˜“æ‡‚ã€è·‘å¾—å¿«`å‘¢ï¼Œå¯ä»¥ä½¿ç”¨ [Benchmark](https://github.com/bestiejs/benchmark.js) æ¥å¸®åŠ©æµ‹è¯•å¾—åˆ°ç»“è®ºã€‚

### å®‰è£…

```
npm i --save benchmark
```

### ä½¿ç”¨

* `add` æ¥å£æ·»åŠ æµ‹è¯•ä»£ç ã€‚
* `on` æ¥å£æ’å…¥ä»£ç åˆ°æµ‹è¯•å‘¨æœŸä¸­ã€‚
* `run` è¿è¡Œä»£ç ã€‚

### ä¾‹å­

##### ä»£ç 

```javascript
let suite = new Benchmark.Suite;

suite
    .add('#1 åˆ©ç”¨æ•°ç»„é•¿åº¦è¿›è¡Œèµ‹å€¼', () => {
        let arr = [1, 2, 3, 4, 5];
        arr[arr.length] = 6;
    })
    .add('#2 åˆ©ç”¨ Array.prototype.push æ–¹æ³•', () => {
        let arr = [1, 2, 3, 4, 5];
        arr.push(6);
    })
    .add('#3 åˆ©ç”¨ Array.prototype.concat æ–¹æ³•', () => {
        let arr = [1, 2, 3, 4, 5];
        arr = arr.concat(6);
    })
    .add('#4 åˆ©ç”¨ spread è¿ç®—ç¬¦', () => {
        let arr = [1, 2, 3, 4, 5];
        arr = [...arr, 6];
    })
    .on('start', (event) => {
        // åœ¨æ•´ä¸ªæµ‹è¯•è¿è¡Œå‰
        console.log('æŠŠæ•°æ®æ’å…¥æ•°ç»„å°¾éƒ¨');
    })
    .on('cycle', (event) => {
        // æ¯ä¸ªæµ‹è¯•ä»£ç è¿è¡Œå
        console.log(String(event.target));
    }).on('complete', () => {
        // æµ‹è¯•å®Œæˆå
        console.log('æœ€å¿«æ–¹æ³•æ˜¯ ' + suite.filter('fastest').map('name'));
    }).run({ 'async': true })
```

##### è¾“å‡º

```
#1 åˆ©ç”¨æ•°ç»„é•¿åº¦è¿›è¡Œèµ‹å€¼ x 3,590,121 ops/sec Â±0.97% (87 runs sampled)
#2 åˆ©ç”¨ Array.prototype.push æ–¹æ³• x 15,796,478 ops/sec Â±0.61% (88 runs sampled)
#3 åˆ©ç”¨ Array.prototype.concat æ–¹æ³• x 2,373,044 ops/sec Â±1.00% (83 runs sampled)
#4 åˆ©ç”¨ spread è¿ç®—ç¬¦ x 2,405,217 ops/sec Â±0.72% (91 runs sampled)
æœ€å¿«æ–¹æ³•æ˜¯ #2 åˆ©ç”¨ Array.prototype.push æ–¹æ³•
```

## jsPerf

> A benchmarking library. As used on jsPerf.com.

åœ¨ [Benchmark](https://github.com/bestiejs/benchmark.js) ä»“åº“ä¸­çš„é¡¹ç›®ç®€ä»‹ä¸­æåˆ°äº† [jsPerf](https://jsperf.com/) ä¸€ä¸ªåŸºäº `Benchmark` çš„ä¾¿æ·`åŸºå‡†æµ‹è¯•`ç«™ç‚¹ã€‚ä½¿ç”¨ Github ç™»å½•åï¼ŒæŒ‰ç…§åˆ›å»ºè¡¨æ ¼ä¸­çš„æ•°æ®å¡«å†™å°±èƒ½ç”Ÿæˆ`åŸºå‡†æµ‹è¯•`ã€‚

`åŸºå‡†æµ‹è¯•` ä¾‹å­ åœ¨ jsPerf ä¸­é“¾æ¥ä¸º [æ•°æ®æ’å…¥æ•°ç»„å°¾éƒ¨](https://jsperf.com/insert-item-inside-an-array-at-the-end)ï¼Œåˆ©ç”¨ jsPerf å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œåˆ†äº«ï¼ˆå°±åƒç°åœ¨ï¼‰ï¼Œè¿˜å¯ä»¥åœ¨ä¸åŒæµè§ˆå™¨ä¸­æ‰“å¼€æµ‹è¯•ã€‚ä¸‹é¢å¯¹é¡µé¢åç§°è¿›è¡Œç®€å•ç¿»è¯‘æ–¹ä¾¿è‹±è¯­ä¸å¥½çš„åŒå­¦ä½¿ç”¨ï¼š

### ä¸ªäººä¿¡æ¯ 

| åè¯ | è§£é‡Š |
| --- | --- |
| Your details | ä¸ªäººä¿¡æ¯ï¼Œå¯é€‰å¡« |
| Name | ä½œè€…åå­— |
| Email | ä½œè€…é‚®ç®±ï¼Œç”±äºç”Ÿæˆå¤´åƒ |
| URL | é¡¹ç›®åœ°å€ |

### æ¡ˆä¾‹ä¿¡æ¯ 

| åè¯ | è§£é‡Š |
| --- | --- |
| Test case details | æ¡ˆä¾‹ä¿¡æ¯ |
| Title | æ ‡é¢˜ |
| Slug | ç½‘ç«™ slugï¼Œä¼šè¢«æ‹¼æ¥æˆ https://jsperf.com/slug |
| Description | é¡¹ç›®æè¿° |

### é¢„åŠ è½½

| åè¯ | è§£é‡Š |
| --- | --- |
| Preparation code | é¢„åŠ è½½ |
| Preparation code HTML | é¡¹ç›®éœ€è¦çš„ DOM ç»“æ„ å’Œ å¼•å…¥å¤–éƒ¨è„šæœ¬ |
| Define setup for all tests | æ¯æ¬¡æµ‹è¯•å‰å°†ä¼šæ‰§è¡Œçš„æ“ä½œå³ Benchmark.setup ä¸­çš„é…ç½®ï¼Œä¾‹å¦‚åˆå§‹åŒ–å˜é‡ã€‚ |
| Define teardown for all tests | æ¯æ¬¡æµ‹è¯•åä¼šæ‰§è¡Œçš„æ“ä½œå³ Benchmark.teardown ä¸­çš„é…ç½®ï¼Œä¾‹å¦‚æ¸…é™¤å˜é‡ã€‚ |

### éœ€è¦æ¯”è¾ƒçš„ä»£ç æ®µ

å¦‚æœæœ‰ä¸éœ€è¦çš„æµ‹è¯•ä»£ç æ¡†åªéœ€è¦æ”¾ç©ºå†…å®¹å¹¶ä¿å­˜å°±ä¼šè‡ªå·±åˆ é™¤ã€‚

| åè¯ | è§£é‡Š |
| --- | --- |
| Code snippets to compare | éœ€è¦æ¯”è¾ƒçš„ä»£ç æ®µ |
| Title | æµ‹è¯•ä»£ç æ®µæ ‡é¢˜ |
| Async | ä»£ç æ®µæ˜¯å¦å¼‚æ­¥ |
| Code | éœ€è¦æµ‹è¯•çš„ä»£ç  |
| Add code snippet | æ·»åŠ æµ‹è¯•ä»£ç  |
| Save test case | ä¿å­˜ |

### æµ‹è¯•é¡µé¢

| åè¯ | è§£é‡Š |
| --- | --- |
| Run test | è¿è¡Œæµ‹è¯• |
| Testing in ... | æµ‹è¯•æ‰€åœ¨çš„æµè§ˆå™¨åŠå…¶ç‰ˆæœ¬ã€æ“ä½œç³»ç»ŸåŠå…¶ç‰ˆæœ¬ |
| Ops/sec | æ¯ç§’é’Ÿä»£ç æ‰§è¡Œæ¬¡æ•°ï¼Œæ•°å€¼è¶Šå¤§è¶Šå¥½ |
| You can edit these tests or add even more tests to this page by appending /edit to the URL. | ç‚¹å‡»è¯¥é“¾æ¥å¯ä»¥ä¿®æ”¹æµ‹è¯•ä»£ç ï¼Œä½†æ˜¯ slug è¿™äº›æ˜¯æ”¹ä¸äº†çš„ |
| Compare results of other browsers | æ‰€æœ‰æµè§ˆå™¨æµ‹è¯•ç»“æœ |
| Chart type | æ•°æ®å±•ç¤ºæ–¹å¼ï¼šæ¡å½¢å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ã€è¡¨æ ¼ |
| Filter | æµè§ˆå™¨ç¯å¢ƒ |

## ç»“å°¾

> è¿˜ä¸èµ¶ç´§å¸¦ä¸Šé”®ç›˜ä¸é‡ç”Ÿç¨‹åºå‘˜å¤§æˆ˜ä¸‰ç™¾å›åˆï¼Œæ‰“æ»¡ç»éªŒå‡çº§é£ä»™æˆä¸ºä¸Šå¤ç¨‹åºå‘˜ã€‚

## æ‰“èµ&è”ç³»

å¦‚æœæ‚¨æ„Ÿè§‰æœ‰æ”¶è·ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµï¼Œä»¥æ¿€åŠ±æˆ‘è¾“å‡ºæ›´å¤šçš„ä¼˜è´¨å†…å®¹ã€‚

![æ‰“èµ&è”ç³»](https://raw.githubusercontent.com/pushmetop/resource/master/donate/donate.png)

> æœ¬æ–‡åŸç¨¿æ¥è‡ª [PushMeTop](https://github.com/pushmetop)